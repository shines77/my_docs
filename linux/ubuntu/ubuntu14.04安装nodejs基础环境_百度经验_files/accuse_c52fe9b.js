define("article:widget/ui/accuse/accuse.js",function(e,i,t){var o=e("common-jquery:widget/lib/jquery/jquery.js"),a=e("common-jquery:widget/js/ui/tip/tip.js"),s=e("common:widget/ui/dialog/dialog.js");e("article:widget/ui/custom-style/custom-style.js"),t.exports=function(e){var i=this,t=o(e.target),c=0,n=0,d=50;t.click(function(){if(!t.hasClass("video-accuse-disabled")){if(o('div[role="tooltip"]').hide(),clearTimeout(n),!i.tip){var u=['<div class="video-accuse-title">给个理由吧：</div>',"<form>",'<div class="video-accuse-items">','<label for="video-accuse-1">','<input type="radio" id="video-accuse-1" name="reason" value="1" checked />',"<span>内含广告</span>","</label>",'<label class="ml-25" for="video-accuse-2">','<input type="radio" id="video-accuse-2" name="reason" value="2" />',"<span>黄色不良视频</span>","</label>","</div>",'<div class="video-accuse-items">','<label for="video-accuse-3">','<input type="radio" id="video-accuse-3" name="reason" value="3" />',"<span>推广信息</span>","</label>",'<label class="ml-25" for="video-accuse-4">','<input type="radio" id="video-accuse-4" name="reason" value="4" />',"<span>反动视频</span>","</label>","</div>","</form>",'<div class="video-accuse-btns clearfix">','<a class="video-accuse-btn video-accuse-ok">确定</a>','<a class="video-accuse-btn video-accuse-cancel">取消</a>',"</div>"].join("");i.tip=new a({target:t,content:u,tooltipClass:"tip-white video-accuse-container",direction:"top",arrow:!0,closebox:!1,autoDispose:!1,position:{my:"center top+17",at:"bottom center"},open:function(){var a=this;o(".video-accuse-cancel",this.getTipContainer()).on("click",function(e){e.preventDefault(),i.tip&&i.tip.hide()}),o(".video-accuse-ok",this.getTipContainer()).on("click",function(c){if(c.preventDefault(),!o(this).hasClass("disabled")){var n=o('input[type="radio"]:checked',a.getTipContainer()).val();o.ajax({url:"/submit/video",type:"post",dataType:"json",data:{method:"reportVideo",encVid:e.video.encVid,encEid:window.F.context("eid"),reason:n,BdStoken:window.F.context("BdStoken"),bdstt:window.F.context("bdstt")},success:function(e){0===e.errno?t.addClass("video-accuse-disabled"):s.tip(2003===e.errno?{info:'<div class="mag-tip-info">请登录后操作</div>',width:260,height:60,fadeOut:!0,modal:!1}:{info:'<div class="mag-tip-info">服务器错误，请稍后重试</div>',width:260,height:60,fadeOut:!0,modal:!1}),i.tip&&i.tip.hide()},error:function(){s.tip({info:'<div class="mag-tip-info">服务器错误，请稍后重试</div>',width:260,height:60,fadeOut:!0,modal:!1}),i.tip&&i.tip.hide()}})}})}}),o(".tip-arrow-top",i.tip.getTipContainer()).css("left","126px"),o('input[type="radio"]',i.tip.getTipContainer()).customStyle("radio"),i.tip.getTipContainer().mouseenter(function(){clearTimeout(n),c=setTimeout(function(){i.tip.show()},d)}).mouseleave(function(){clearTimeout(c),n=setTimeout(function(){i.tip.hide()},d)})}c=setTimeout(function(){i.tip.show()},d)}}).mouseleave(function(){clearTimeout(c),i.tip&&"show"===i.tip.getStatus()&&(n=setTimeout(function(){i.tip.hide()},d))})}});