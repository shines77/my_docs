# The Big Blue trading system

## 1. Intraday Price Patterns

"Intraday Price Patterns"这一小节探讨了金融市场价格模式的一般特性，以及如何识别和利用这些模式进行日内交易。以下是这一小节的主要内容：

* 市场的分形特性：金融市场通常具有分形特性，这意味着在不同的时间尺度上，如果时间轴（水平轴）不显示，很难区分日线图和日内图。然而，日内图表包含了更多不在长期图表中的信息。

* 一周中不同日子的市场行为：通过分析S&P期货交易日内的价格行为，发现一周中不同的日子有不同的价格运动模式。例如，周一和周三通常有最大的上涨幅度，而周五则有最大的下跌幅度。周二和周四则介于两者之间。此外，大部分周五的价格运动发生在早盘和尾盘，而中午时段则相对平淡。

* 日内价格模式的分析：通过分析大约17年的日内数据，研究了开盘后的价格运动，并将其标准化为前一天价格范围的百分比。通过这种分析，可以识别出一周中不同日子的价格运动模式。

* 添加波动性过滤：在分析中加入简单的波动性过滤规则后，可以观察到新的模式。例如，周一出现了明显的低点，而周三则成为一周中主要的上涨趋势日。周二和周五在早盘也出现了低点，而周四则没有明显的趋势。

* 识别关键的基本模式：为了编写交易系统代码，需要识别几个关键的基本模式。Big Blue-2交易系统使用了四种主要的模式，包括枢轴点逆势模式、簇逆势模式、突破模式和极端枢轴点逆势模式。这些模式在系统中必须协同工作，不能产生冲突的信号。

这一小节强调了在日内交易中，识别和利用价格模式的重要性，并通过分析和过滤来提高交易策略的有效性。通过理解市场在不同时间尺度上的行为，交易者可以开发出更精确的交易系统，从而在快速变化的市场中捕捉利润机会。

## 2. The 4 Basic Big Blue-2 Intraday Patterns

"The 4 Basic Big Blue-2 Intraday Patterns"这一小节详细介绍了构成Big Blue-2交易系统的四种基本日内交易模式。以下是这四种模式的概述：

* 枢轴点逆势模式（The Pivot Counter-Trend Pattern）：

  * 这个模式基于价格首先朝一个方向移动，然后反转并朝相反方向趋势。
  * 交易者会观察价格是否突破支持位或阻力位，然后在另一边设置止损单，这可能在当天某个时候被执行，或者在收盘时被取消（Market-on-Close, MOC）。

* 簇逆势模式（The Cluster Counter-Trend Pattern）：

  * 这个模式的形状类似于一个勾号或倒勾号。在买入情景中，市场在早上走低，然后反转并在收盘时上涨。在卖出情景中，市场在早上的上涨在后期消退，然后在收盘时走低。
  * 这个模式将基于价格簇的分析，并使用限价单进入。

* 突破模式（The Breakout Pattern）：

  * 在这种情景中，市场在一个方向上强烈移动，并在当天的最低点或最高点附近收盘。这是典型的趋势日，市场要么大幅上涨，要么大幅下跌。
  * 这个模式将使用止损单进入。

* 极端枢轴点逆势模式（The Extreme Pivot Counter-Trend Pattern）：

  * 大幅的单向移动有时会跟随在相反方向上的大幅移动，因此这个模式寻找通过第二级枢轴水平的大幅移动，然后在这一枢轴水平的另一边设置止损单，这个止损单将被执行或在收盘时被取消。

这四种模式必须在完整的系统中协同工作，不能产生冲突的信号。进入模式时使用限价单和止损单可能会很复杂，因为可能同时存在高于市场价格的止损单和低于市场价格的限价单。当然，这些模式在当天被执行的所有入场都将在亏损时止损退出，或者在收盘时（MOC）退出。Big Blue-2不会持有隔夜头寸。

这一小节强调了每种模式在日内交易中的重要性，以及如何通过结合使用这些模式来提高交易系统的多样性和稳健性。通过在系统中嵌入多个模式，可以在某个模式（或系统）经历回撤时，希望其他模式（或系统）处于盈利模式，从而分散风险并提高整体表现。

## 3. Intraday Trading Filters

"Intraday Trading Filters"这一小节讨论了在日内交易系统中使用的各种过滤规则，这些规则通过逻辑开关来开启或关闭交易。Big Blue-2交易系统使用了以下类型的过滤规则：

* 时间过滤规则（Time of Day Filters）：日内波动性通常在早晨和晚上较高，中午较低。一些模式在早晨表现良好，但在下午则不然。因此，尽管时间过滤规则可能排除了一天中的一部分时间，但它们仍然允许主要模式在不过度过滤数据的情况下显现出来。

* 一周中的某天过滤规则（Day of Week Filters）：经过大量测试，发现某些模式在星期五表现不佳，这令人惊讶，因为大多数星期五都有下跌倾向。此外，无论是长模式还是短模式的价格簇模式在星期五的表现都不好。

* 一个月中的某天过滤规则（Day of Week in Month Filters）：像三重巫师日（Triple Witching Day）和各种报告日发布的日子需要被研究，以用作过滤规则。一些模式对一个月中的某些日子比其他模式更敏感。

* 月份过滤规则（Month Filters）：十一月对于许多日内交易系统来说是一个困难的月份，这可能是由于假期、年底的税收销售、年底的投资组合轮换等原因。这个过滤规则根据需要被纳入。它会减少十一月的交易数量。其他模式也将根据需要应用月份过滤规则。例如，在夏季的七月份，一些模式的表现不佳，可能是由于特定类型的日内波动性不足或过多，或者可能因为许多交易者在休假。

* 波动性过滤规则（Volatility Filters）：在第六章中，一个简单的日内过滤规则被应用于日内价格运动的分析中，我们观察到日内拓扑结构的显著变化。通过寻找促进随后应用的交易模式的当前市场条件，我们可以为现有模式创造增强。

* 超买/超卖过滤规则（Over Bought/Over Sold Filters）：将长模式应用于已经卖出的市场，或将短模式应用于已经上涨的市场，这种经典应用是有效的。因此，超买/超卖过滤规则将被应用于我们的模式，如适用。这将再次减少交易频率，但增加平均交易量，并减少我们假设测试中的回撤。

这一小节强调了过滤规则在任何交易系统开发中的重要性，但同时也提醒我们，过滤规则必须谨慎使用，因为过度使用过滤规则就像过度拟合交易系统的参数或逻辑一样容易，而纯粹的数据拟合是不可取的。

### 3.1 The Pivot Counter-Trend Pattern

"The Pivot Counter-Trend Pattern"这一小节详细介绍了枢轴点逆势模式（Pivot Counter-Trend Pattern），这是Big Blue-2交易系统中使用的一种主要的日内交易模式。以下是这一小节的主要内容：

**枢轴点计算（Pivot Point Calculations）**：

- 枢轴点计算是基于前一天的最高价、最低价和收盘价的平均值来确定一系列递增和递减的价格水平。

**计算公式如下**：

- 枢轴点（Pivot）=（最高价 + 最低价 + 收盘价）/ 3
- 支撑位（Support）= 2 * 枢轴点 – 前一天的最高价
- 阻力位（Resistance）= 2 * 枢轴点 – 前一天的最低价
- 最低支撑位（Lowest Low）= 枢轴点 – 阻力位 + 支撑位
- 最高阻力位（Highest High）= 枢轴点 – 支撑位 + 阻力位
- 第二支撑位（LL2）= 枢轴点 – 最高阻力位 + 最低支撑位
- 第二阻力位（HH2）= 枢轴点 – 最低支撑位 + 最高阻力位

**模式描述**：

- 枢轴点逆势模式发生在价格下跌至枢轴点以下某个阈值后开始回升时。交易者会在支撑位上方设置一个止损单，该单可能在当天的特定时间被执行，或者在交易日结束时被取消。
- 相反的，当价格上升至阻力位以上某个阈值后开始下跌时，会发生短枢轴点逆势模式。交易者会在阻力位下方设置一个卖出止损单，该单同样可能在当天被执行或在交易日结束时被取消。

**图表示例**：

- 文档中提供了一个图表示例，展示了在2003年4月22日的一个典型交易日中，根据枢轴点逆势模式进行的交易。该模式在早上进入多头，并在交易日结束时以市价平仓（MOC）。

**历史测试结果**：

- 文档还提供了从1985年9月30日至2004年3月10日的枢轴点逆势模式的假设测试结果。这个测试假设使用了1个大型S&P合约，并且每个点的价值固定在250美元。
- 在这次测试中，共有989次交易，没有考虑滑点或佣金，固定止损设置为5个点。这个模式在交易日的大部分时间内都有效，但避开了某些中午时段，避开了11月的所有交易，并且不会在星期五做空。

**性能总结**：

- 测试结果显示，总净利润为391,450美元，毛利润为694,750美元，毛损失为303,300美元。交易的成功率为58.54%，平均每次盈利交易为1,199.91美元，平均每次亏损交易为739.76美元。盈利与亏损的平均比率为1.62，平均每次交易的净利润为395.80美元。

这一小节强调了枢轴点逆势模式在日内交易中的重要性，并提供了详细的计算方法、交易逻辑和历史测试结果，以展示这种模式的有效性。

### 3.2 The Cluster Counter-Trend Pattern

"The Cluster Counter-Trend Pattern"这一小节详细介绍了簇逆势模式（Cluster Counter-Trend Pattern），这是Big Blue-2交易系统中使用的另一种主要的日内交易模式。以下是这一小节的主要内容：

**模式描述**：

- 在日内交易中，价格往往会从中间低点的价位簇（cluster）中反弹，或者在中间高点形成价位簇后下跌。如果市场开始变得疲软，通常会有一个快速的上涨随后伴随着大规模的卖出，将价格推低，因为交易者会在强势时卖出或在弱势时买入。

- 为了利用这种模式，首先需要识别出要使用的基本价格簇。这些价格簇定义如下：
  - LL = 过去N个时间单位内的最低点
  - HH = 过去N个时间单位内的最高点

**交易设置**：

- 通过将限价买入单设置在低于LL点的某个特定价位，并将限价卖出单设置在高于HH点的某个特定价位来设置这种交易。
- 如果市场价格急剧上涨并离开了这个价格簇，那么将触发限价卖出单。
- 为了避免与突破模式混淆，这种模式将在特定的日内模式和尾盘模式期间应用，并结合关键的过滤组件。

**图表示例**：

- 文档中提供了一个图表示例，展示了在某一天根据簇逆势模式进行的交易。

**历史测试结果**：

- 文档还提供了从1985年到2004年的簇逆势模式的假设测试结果。这个测试假设使用了1个大型S&P合约，并且每个点的价值固定在250美元。
- 在这次测试中，共有716次交易，没有考虑滑点或佣金，固定止损设置为5个点。这是Big Blue-2交易系统中包括的第二种模式。

**性能总结**：

- 测试结果显示，总净利润为217,262.50美元，毛利润为427,787.50美元，毛损失为210,525.00美元。交易的成功率为56.70%，平均每次盈利交易为1,053.66美元，平均每次亏损交易为679.11美元。盈利与亏损的平均比率为1.55，平均每次交易的净利润为303.44美元。

这一小节强调了簇逆势模式在日内交易中的重要性，并提供了详细的模式识别方法、交易逻辑和历史测试结果，以展示这种模式的有效性。通过在市场中识别出这些价格簇，并在这些价格水平附近设置限价单，交易者可以在市场反转时捕捉到利润机会。

### 3.3 The Breakout Pattern

"The Breakout Pattern"这一小节介绍了Big Blue-2交易系统中的突破模式（Breakout Pattern）。以下是这一小节的主要内容：

**模式描述**：

- 突破模式针对的是市场在某个方向上强势启动且几乎没有回撤的情况。在这种交易日，交易者希望参与市场运动，但需要添加一些过滤逻辑，以确保不会过于频繁地交易，并且避免在市场只是“假突破”的日子里进行交易。

**交易设置**：

- 交易者从第二级枢轴点开始，设定止损单在最高最高点（Highest High Pivot Point）之上一定数额，以及在最低最低点（Lowest Low Pivot Point）之下一定数额。如果市场价格在当天结束前没有被触发，则订单会被取消。

**过滤逻辑**：

- 为了提高这种模式的表现，添加了以下过滤条件：时间过滤、月份过滤、波动性过滤。
- 时间过滤（Time of Day）：避免在一天中波动性较低的时段进行交易。
- 月份过滤（Day of Month）：避免在一个月中某些特定的日子进行交易，比如三重巫师日（Triple Witching Day）。
- 波动性过滤（Volatility filters）：只在市场波动性达到一定水平时才进行交易。

**图表示例**：

- 文档中提供了一个图表示例，展示了在某一天根据突破模式进行的交易。

**历史测试结果**：

- 文档还提供了从1985年到2004年的突破模式的假设测试结果。这个测试假设使用了1个大型S&P合约，并且每个点的价值固定在250美元。
- 在这次测试中，共有867次交易，没有考虑滑点或佣金，固定止损设置为5个点。这是Big Blue-2交易系统中包括的第三种模式。

**性能总结**：

- 测试结果显示，总净利润为258,737.50美元，毛利润为584,362.50美元，毛损失为325,625.00美元。交易的成功率为53.17%，平均每次盈利交易为1,267.60美元，平均每次亏损交易为802.03美元。盈利与亏损的平均比率为1.58，平均每次交易的净利润为298.43美元。

这一小节强调了突破模式在日内交易中的重要性，并提供了详细的交易设置、过滤逻辑和历史测试结果，以展示这种模式的有效性。通过在市场强势突破时进入交易，并使用过滤逻辑来避免频繁交易和假突破，交易者可以在市场出现明显趋势时捕捉利润机会。
